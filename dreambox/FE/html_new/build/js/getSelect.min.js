/*! dreambox 2014-09-12 */
(function(a) {
    a.extend({
        getSelect: function(b) {
            var b = b, c = "", d = a('<div class="select-city-wrap"><a class="close" href="javascript:;"><i class="icons close"></i></a><div class="title"><a class="sc-part fta active" href="javascript:;">ABCDEF</a><a class="sc-part" href="javascript:;">GHIJ</a><a class="sc-part" href="javascript:;">KLMN</a><a class="sc-part" href="javascript:;">PRRSTUVW</a><a class="sc-part" href="javascript:;">XYZ</a></div><div class="sc-main"><div class="loading"><img src="images/loading.gif" alt="loading"></div></div></div>');
            a.each(b, function(a, b) {
                if (a == "A" || a == "G" || a == "K" || a == "P" || a == "X") {
                    c += '<div class="sc-main-part">';
                }
                c = c + "<p><span>" + a + "</span>";
                for (i in b) {
                    c = c + '<a href="javascript:;">' + (b[i].n == undefined ? "未开放" : b[i].n) + "</a>";
                }
                if (b == "" || b == null || b == undefined) {
                    c += "未开放";
                }
                c += "</p>";
                if (a == "F" || a == "J" || a == "N" || a == "W" || a == "Z") {
                    c += "</div>";
                }
            });
            d.find(".sc-main").append(c);
            d.find(".title .sc-part:eq(0)").addClass("active");
            d.find(".loading").hide();
            d.find(".sc-main-part:eq(0)").show();
            d.find(".title .sc-part").hover(function() {
                var b = a(this).index();
                a(this).parents(".title").find(".sc-part.active").removeClass("active");
                a(this).addClass("active");
                d.find(".sc-main-part").hide();
                d.find(".sc-main-part").eq(b).show();
            }, function() {});
            d.find(".sc-main").click(function(b) {
                var c = a(b.target);
                if (c.is("a") && !c.hasClass(".sc-part")) {
                    _obj.val(c.text());
                    d.hide();
                }
            });
            d.find("a.close").click(function(a) {
                d.hide();
            });
        }
    });
})(jQuery);